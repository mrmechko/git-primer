<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <!-- 2021-01-01 Fri 16:37 -->
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii" />
  <meta name="viewport" content=
  "width=device-width, initial-scale=1" />

  <title>Yet Another Git Primer</title>
  <meta name="generator" content="Org mode" />
  <meta name="author" content="Rik Bose" />
  <style type="text/css">
<!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
  </style>
  <link rel="stylesheet" type="text/css" href=
  "https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css" />
  <link rel="stylesheet" type="text/css" href=
  "https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css" />

  <script src=
  "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"
  type="text/javascript">
</script>
  <script src=
  "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"
  type="text/javascript">
</script>
  <script type="text/javascript" src=
  "https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js">
</script>
  <script type="text/javascript" src=
  "https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js">
</script>
  <script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
  <!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
  // @license-end
  </script>
</head>

<body>
  <div id="content">
    <h1 class="title">Yet Another Git Primer</h1>

    <div id="table-of-contents">
      <h2>Table of Contents</h2>

      <div id="text-table-of-contents">
        <ul>
          <li>
            <a href="#org96a8711">What is git and why should we use
            it?</a>

            <ul>
              <li><a href="#org332aa86">Motivation:
              Checkpoints</a></li>
            </ul>
          </li>

          <li><a href="#orgc4c56a5">What is the difference between
          git and GitHub?</a></li>

          <li><a href="#org22fd4fa">Anatomy of a git repo</a></li>

          <li>
            <a href="#org8e2be95">Basic Operations</a>

            <ul>
              <li><a href="#org4ea4fcf">Copying a repo - <code>git
              clone</code></a></li>

              <li><a href="#org7f01894">Creating a repo - <code>git
              init</code></a></li>

              <li><a href="#org6b61cb3">Staging - <code>git
              add</code></a></li>

              <li><a href="#org77f698d">Commit - <code>git
              commit</code></a></li>

              <li>
                <a href="#org0999131">Receive - <code>git
                pull</code></a>

                <ul>
                  <li><a href="#org952bb62">Conflicts</a></li>
                </ul>
              </li>

              <li>
                <a href="#org5ec70d4">Send - <code>git
                push</code></a>

                <ul>
                  <li><a href="#org2ca3c20">Conflicts</a></li>
                </ul>
              </li>
            </ul>
          </li>

          <li>
            <a href="#org1b71781">Branching and Merging</a>

            <ul>
              <li><a href="#org4644a54">Creating branches -
              <code>git branch</code></a></li>

              <li><a href="#orge8ae5e4">A sample branching
              paradigm</a></li>

              <li><a href="#orgb52f554">Conflicts!</a></li>

              <li><a href="#org6760b02">Pull Requests</a></li>
            </ul>
          </li>

          <li>
            <a href="#orgb8af3f3">Undoing things</a>

            <ul>
              <li><a href="#org263074c">Temporary - <code>git
              stash</code></a></li>

              <li><a href="#org488b13c">Exploratory - <code>git
              checkout</code></a></li>

              <li><a href="#org98b6edf">UNDO! UNDO!! - <code>git
              revert</code></a></li>
            </ul>
          </li>

          <li>
            <a href="#org6dafa31">Hints and FAQs</a>

            <ul>
              <li>
                <a href="#org35a7f47">Some strategies to avoid
                panic.</a>

                <ul>
                  <li><a href="#org8e46dbd">Commit
                  messages</a></li>

                  <li><a href="#org722f5d2">Work on your own
                  branch</a></li>

                  <li><a href="#org5556d85">Test before you
                  merge</a></li>

                  <li><a href="#org7a33114">Avoiding
                  Conflicts</a></li>
                </ul>
              </li>

              <li><a href="#org0d23867">Help, I accidentally added
              or committed something I shouldn&rsquo;t
              have!</a></li>

              <li><a href="#orge4e2030">Help, I&rsquo;ve made some
              changes but I want to move them out of the
              way!</a></li>

              <li><a href="#org9c08081">Next Time</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="outline-container-org96a8711" class="outline-2">
      <h2 id="org96a8711">What is git and why should we use
      it?</h2>

      <div class="outline-text-2" id="text-org96a8711">
        <div class="org-center">
          <p><img class='invertible' src=
          'https://imgs.xkcd.com/comics/git.png' title=
          "If that doesn't fix it, git.txt contains the phone number of a friend of mine who understands git. Just wait through a few minutes of 'It's really pretty simple, just think of branches as...' and eventually you'll learn the commands that will fix everything."
          alt='Git' /></p>
        </div>

        <p>When you&rsquo;re working on a file or a document, it is
        important to save frequently in order to make sure you
        don&rsquo;t lose your work. But code is complicated. The
        development of code is not linear - often edits are
        exploratory and end up being reverted. You find quickly
        that what you want to be able to save and explore is not
        the actual state of your files, but the sequence of edits
        you&rsquo;ve made. <code>git</code> saves your project as a
        sequence of edits to your code base rather than a set of
        file contents.</p>
      </div>

      <div id="outline-container-org332aa86" class="outline-3">
        <h3 id="org332aa86">Motivation: Checkpoints</h3>

        <div class="outline-text-3" id="text-org332aa86">
          <p>You have been writing code for hours. You&rsquo;ve got
          into a good flow. What started off as a few functions in
          a single file has expanded into dozens of functions and
          classes in half a dozen files each consisting of several
          hundred lines of code. At least. You save the latest line
          you wrote. After The Great Cherrry Coke Debacle in
          freshman year where you lost two pages of your final
          paper hours before the deadline, you&rsquo;re very
          diligent about saving. But it has started to occur to you
          - not all saves are created equal. Saving code might have
          one of several purposes:</p>

          <ul class="org-ul">
            <li>To ensure that you don&rsquo;t lose what
            you&rsquo;ve done.</li>

            <li>To compile and run your code as a sanity
            check.</li>

            <li>To mark a checkpoint in your progress - a version
            of your code to backup and come back to if things
            break.</li>
          </ul>

          <p>In a smaller, simpler project, you might have just
          copied the code into a different folder now and then. But
          what if you want to go back several checkpoints? or what
          if you forget? What if you want to copy something from
          the checkpoint you made three hours ago? What if you
          forgot to copy the checkpoint? Preparing for all of these
          eventualities leads to more and more complicated
          practices of saving and backing up your code. Eventually,
          you might find that you are annotating your checkpoints
          with little messages describing what exactly you&rsquo;ve
          done since the last one.</p>
        </div>
      </div>
    </div>

    <div id="outline-container-orgc4c56a5" class="outline-2">
      <h2 id="orgc4c56a5">What is the difference between git and
      GitHub?</h2>

      <div class="outline-text-2" id="text-orgc4c56a5">
        <p>While <code>git</code> is the underlying software that
        performs version control, <a href=
        "https:github.com">Github</a> is a website where users can
        host and collaborate on their repositories. Github provides
        many additional features such as <i>issues</i> for
        repositories where users can file bug reports or make
        feature requests, <i>code reviews</i> where users can
        provide feedback on each others code, and <i>project
        boards</i> which can help teams of developers to coordinate
        their work. Github also provides a framework to give
        developers easier access to various tools such as
        <i>continuous integration servers</i> and app hosting.</p>
      </div>
    </div>

    <div id="outline-container-org22fd4fa" class="outline-2">
      <h2 id="org22fd4fa">Anatomy of a git repo</h2>

      <div class="outline-text-2" id="text-org22fd4fa">
        <p>A git repository, or repo for short, is just a normal
        folder with a <code>.git</code> folder containing metadata.
        The <code>.git</code> folder will contain information about
        previous commits, branches, and where the remote repos are
        located. Most repos will also contain one or more files
        called <code>.gitignore</code>. A <code>.gitignore</code>
        file tells git which files to avoid adding to the
        repository to prevent mistakes. You might add things like
        <code>*.class</code> files in <i>Java</i> or
        <code>*.o</code> files for <i>C</i> projects to your
        <code>.gitignore</code> file. Repos hosted on Github might
        also have a <code>.github</code> folder to store
        configuration of Github specific features.</p>

        <p>If you open a repo folder in a file browser, you might
        not see some of these files or folders because the prefix
        <code>.</code> on a filename is an instruction to many
        operating systems to keep a file hidden. Many developer
        tools use <i>&ldquo;dotfiles&rdquo;</i> to store user
        settings invisibly. Most file explorers have options to
        make all files, including dotfiles, visible.</p>

        <p>Conceptually, there are three parts to the git repo. The
        <i>working directory</i> are the current state of the files
        in your repository. The <i>staging index</i> stores the the
        current <i>uncommitted</i> changes to the repo. Finally,
        the <i>commit history</i> stores all the incremental
        updates to the repository.</p>

        <p>If your working on a team, each person will have their
        own copy of the repo. This ensures that everyone&rsquo;s
        repo has the same <i>commit history</i>. The commit you are
        currently viewing is known as the <code>HEAD</code>.</p>
      </div>
    </div>

    <div id="outline-container-org8e2be95" class="outline-2">
      <h2 id="org8e2be95">Basic Operations</h2>

      <div class="outline-text-2" id="text-org8e2be95">
        <p>In this section, we will outline the basic operations
        for interacting with git repos</p>
      </div>

      <div id="outline-container-org4ea4fcf" class="outline-3">
        <h3 id="org4ea4fcf">Copying a repo - <code>git
        clone</code></h3>

        <div class="outline-text-3" id="text-org4ea4fcf">
          <p>In order to use an existing repo, you must first
          <i>clone</i> it to your local machine. The <code>git
          clone</code> command takes the location of a repo and
          copies it to your local directory along with all the
          repo&rsquo;s history. The location provided to the
          <i>clone</i> command can either be an url for a remote
          repository or a file path, if you want to make a copy of
          a repository already on your computer. The cloned repo
          will automatically store the <i>source</i> repo as the
          <i>origin</i>, so you can send back your changes.</p>
        </div>
      </div>

      <div id="outline-container-org7f01894" class="outline-3">
        <h3 id="org7f01894">Creating a repo - <code>git
        init</code></h3>

        <div class="outline-text-3" id="text-org7f01894">
          <p>To create a repo, you would perform a <code>git
          init</code>. This creates a <code>.git</code> folder
          inside the base directory of your repo with an empty
          history. At this stage, the repo considers itself to be
          empty. Even if there are files already in your directory,
          they are not yet being <i>tracked</i>. A repo created
          like this will have no remote target<sup><a id="fnr.1"
          class="footref" href="#fn.1" name=
          "fnr.1">1</a></sup>.</p>
        </div>
      </div>

      <div id="outline-container-org6b61cb3" class="outline-3">
        <h3 id="org6b61cb3">Staging - <code>git add</code></h3>

        <div class="outline-text-3" id="text-org6b61cb3">
          <p>Once you&rsquo;ve created or cloned your repo and
          edited some files, you will want to add your changes to
          the repo&rsquo;s history. This is a two step process. The
          first step is to <i>stage</i> your changes. You can
          choose which files<sup><a id="fnr.2" class="footref"
          href="#fn.2" name="fnr.2">2</a></sup> you want to add to
          your repo. During this process, you can stage or unstage
          changes as you wish - nothing gets saved permanently
          until the next step.</p>
        </div>
      </div>

      <div id="outline-container-org77f698d" class="outline-3">
        <h3 id="org77f698d">Commit - <code>git commit</code></h3>

        <div class="outline-text-3" id="text-org77f698d">
          <p>To make your changes (semi) permanent, you make a
          commit. As well as staged changes, a commit requires a
          commit message describing its contents. It is important
          to leave descriptive commit messages so you and your
          collaborators can more easily go back and identify what
          happened if something goes wrong. Since commits are a
          kind of &rsquo;unit&rsquo; in git repo, you may want to
          split a single session of coding into multiple commits.
          Just as with saving, it is good practice to commit
          often<sup><a id="fnr.3" class="footref" href="#fn.3"
          name="fnr.3">3</a></sup>. The commit gets assigned a
          unique reference which can be used in other commands.</p>
        </div>
      </div>

      <div id="outline-container-org0999131" class="outline-3">
        <h3 id="org0999131">Receive - <code>git pull</code></h3>

        <div class="outline-text-3" id="text-org0999131">
          <p>In order to get updates that have been sent by others
          (or by you from other machines), you would perform a
          <code>git pull</code>. This gathers all the commits that
          have been sent to the remote repository since your last
          pull and sends them to you.</p>
        </div>

        <div id="outline-container-org952bb62" class="outline-4">
          <h4 id="org952bb62">Conflicts</h4>

          <div class="outline-text-4" id="text-org952bb62">
            <p>In some cases, the commits on the remote server may
            overlap with your own changes. If this is the case,
            you&rsquo;ll have to perform a <code>merge</code>.
            Merges can be stresfull and we&rsquo;ll talk about them
            in more detail a little later. We will also discuss
            some strategies to avoid unnecessary merging.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org5ec70d4" class="outline-3">
        <h3 id="org5ec70d4">Send - <code>git push</code></h3>

        <div class="outline-text-3" id="text-org5ec70d4">
          <p>Once you&rsquo;ve made some commits, you&rsquo;ll want
          to synchronize them with your remote repo. In order to do
          this, you&rsquo;ll need to perform a <code>git
          push</code>. Pushing sends your revisions to the remote
          repository and makes them available for other users to
          add.</p>
        </div>

        <div id="outline-container-org2ca3c20" class="outline-4">
          <h4 id="org2ca3c20">Conflicts</h4>

          <div class="outline-text-4" id="text-org2ca3c20">
            <p>Sometimes as you try to push, your remote repository
            will notify you that it has received a push from
            someone else since you last pulled from the repo. In
            situations like this, the remote repository will ask
            you to perform a <code>git pull</code> first. You might
            see an error like this:</p>

            <div class="org-src-container">
              <pre class="src src-bash">
 <span style=
"color: #51afef; font-weight: bold;">!</span> <span style=
"color: #51afef;">[</span>rejected<span style=
"color: #51afef;">]</span>        master -&gt; master <span style=
"color: #51afef;">(</span>fetch first<span style=
"color: #51afef;">)</span>
error: failed to push some refs to <span style=
"color: #98be65;">'https://github.com/mrmechko/repo.git'</span>
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: <span style="color: #51afef;">(</span>e.g., <span style=
"color: #98be65;">'</span><span style=
"color: #98be65;">git</span><span style=
"color: #98be65;"> pull ...'</span><span style=
"color: #51afef;">)</span> before pushing again.
hint: See the <span style=
"color: #98be65;">'Note about fast-forwards'</span><span style=
"color: #51afef;"> in</span> <span style=
"color: #98be65;">'</span><span style=
"color: #98be65;">git</span><span style=
"color: #98be65;"> push --help'</span> for details.
</pre>
            </div>

            <p>This is a safety measure. This way, if there are any
            issues surrounding integrating your changes with your
            collaborator&rsquo;s changes, you can resolve them
            yourself. We will discuss how to handle conflicts
            below.</p>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-org1b71781" class="outline-2">
      <h2 id="org1b71781">Branching and Merging</h2>

      <div class="outline-text-2" id="text-org1b71781">
        <div class="org-center">
          <p><img class='invertible' src=
          'https://imgs.xkcd.com/comics/algorithms.png' title=
          "There was a schism in 2007, when a sect advocating OpenOffice created a fork of Sunday.xlsx and maintained it independently for several months. The efforts to reconcile the conflicting schedules led to the reinvention, within the cells of the spreadsheet, of modern version control."
          alt='Algorithms' /></p>
        </div>

        <p>A key features of git repos is the ability to create a
        branch of your code. Branches allow you switch between and
        develop multiple versions of your code simultaneously. If
        we decide that we want to combine two branches, we can
        perform a <code>git merge</code>. Merging adds all the
        commits from one branch to another and then a special merge
        commit to indicate that the two branches have been
        combined. This special merge commit can be used to resolve
        any conflicts that might have arisen. We will talk about
        merge conflicts a little later.</p>

        <p>The most common use for branches would be developing a
        new feature for piece of software with an existing stable
        version. You don&rsquo;t want to add unstable code to the
        version that other people might be using, so you can make a
        branch to work on your feature until it is ready. As
        mentioned previously, a git repo stores the history as a
        sequence of <i>changes</i> to repo, not as files. That
        means in many cases changes made to code by different
        people can be automatically combined by git. This does
        <i>NOT</i> mean that the combined files will work!</p>
      </div>

      <div id="outline-container-org4644a54" class="outline-3">
        <h3 id="org4644a54">Creating branches - <code>git
        branch</code></h3>

        <div class="outline-text-3" id="text-org4644a54">
          <p><code>git branch</code> allows you to create a new
          branch from the current commit. This does not create any
          changes in the repository&rsquo;s history. Instead, you
          just create a new <code>HEAD</code> pointer at the
          existing commit. Once you&rsquo;ve created the new
          branch, you will need to perform a <code>git checkout
          -b</code> to make sure any future commits get added to
          your newly created branch.</p>
        </div>
      </div>

      <div id="outline-container-orge8ae5e4" class="outline-3">
        <h3 id="orge8ae5e4">A sample branching paradigm</h3>

        <div class="outline-text-3" id="text-orge8ae5e4">
          <p>Most repositories have a single branch to start with,
          called <code>main</code><sup><a id="fnr.4" class=
          "footref" href="#fn.4" name="fnr.4">4</a></sup>. This
          branch should contain the most recent
          &rsquo;released&rsquo; version of your software. In early
          the early stages of development, of course, it might not
          be a finished product. Next, you might create a branch
          called <code>develop</code> to track less stable
          improvements to the software. Individual features will
          spawn their own branches off of <code>develop</code> and
          be merged back into <code>develop</code> as they are
          completed. When the team is sufficiently sure that the
          code on <code>develop</code> is ready for release, it can
          be pushed to <code>main</code>.</p>

          <p>In order to make the most of this paradigm for
          branching, it is a good idea to set <i>milestones</i>
          which lists a set of features and fixes that are required
          before the next release. Features that do not contribute
          to the next milestone are left un-merged</p>

          <blockquote>
            <p>When you perform a <code>git merge</code>, you are
            taking commits from another branch and adding them to
            the branch you are currently on. For example, if you
            want the branch <code>main</code> to include changes
            made in <code>my-cool-feature-branch</code>, you would
            have to first checkout <code>main</code> and then
            <i>merge</i> <code>my-cool-feature-branch</code> into
            <code>main</code>.</p>
          </blockquote>
        </div>
      </div>

      <div id="outline-container-orgb52f554" class="outline-3">
        <h3 id="orgb52f554">Conflicts!</h3>

        <div class="outline-text-3" id="text-orgb52f554">
          <div class="org-center">
            <p><img class='invertible' src=
            'https://imgs.xkcd.com/comics/computer_problems.png'
            title=
            "This is how I explain computer problems to my cat. My cat usually seems happier than me."
            alt='Computer Problems' /></p>
          </div>

          <p>When pulling or merging changes from other branches,
          from time to time you will come across conflicts. These
          occur when two commits change the same line in a manner
          that git is unable to automatically compute. Merge
          conflicts are one of the most panic-inducing events
          associated with git. It is important to remember that all
          your work is safe as long as you&rsquo;ve been committing
          regularly.</p>

          <p>In the event that a segment of code has a conflict
          during a merge, that segment will be replaced with both
          versions of the code with in-text annotations to indicate
          the conflict. Below is an example of a conflict when
          merging <code>other-branch</code> into <code>main</code>.
          Note the line of <code>=</code>&rsquo;s separating the
          two alternatives.</p>
          <pre class="example">
This line does not have a conflict.
&lt;&lt;&lt;&lt;&lt;&lt;&lt; main
this line has a conflict.
=======
This line is a conflict.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; other-branch;
</pre>

          <p>If we were to look at the state of <code>main</code>
          before the merge began, we would see this:</p>
          <pre class="example">
This line does not have a conflict.
this line has a conflict.
</pre>

          <p>Similarly, if we were to look at the state of
          <code>other-branch</code> before the merge began, we
          would see this:</p>
          <pre class="example">
This line does not have a conflict.
This line is a conflict.
</pre>

          <p>To resolve the conflict, all you have to do is edit
          the file(s) in question to remove the lines containing
          <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; main</code>,
          <code>=======</code>, and
          <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; other-branch</code>.
          Naturally, you&rsquo;ll want to also make sure that the
          state of the file is correct. Often this means deleting
          one of the alternatives as well. In some cases you might
          want to keep some or all of both alternatives.</p>

          <p>Once you&rsquo;re done with the edits, commit the
          changes, and you&rsquo;re all done! Remember, there might
          be more than one conflict in a merge. You can usually
          find all the conflicts by searching for
          <code>&lt;&lt;&lt;&lt;&lt;</code> in your code base - it
          is a fairly uncommon string in code!</p>
        </div>
      </div>

      <div id="outline-container-org6760b02" class="outline-3">
        <h3 id="org6760b02">Pull Requests</h3>

        <div class="outline-text-3" id="text-org6760b02">
          <p>Pull requests are a special feature provided by some
          git-hosting services (eg <a href=
          "https://github.com">github</a>, <a href=
          "https://gitlab.com">gitlab</a>, etc) which help with the
          latent potential chaos surrounding <code>git
          merge</code>. A pull request allows the team to discuss
          commits that are scheduled to be merged into a branch,
          test the resulting merged code, and to add additional
          commits to fix any issues, all before the merge occurs.
          Teams will often write-protect shared branches like
          <code>main</code> or <code>development</code> because
          introducing errors to those branches can be disasterous
          to the whole team. In such situations, a pull-request
          might require the approval of multiple team members or of
          product managers.</p>
        </div>
      </div>
    </div>

    <div id="outline-container-orgb8af3f3" class="outline-2">
      <h2 id="orgb8af3f3">Undoing things</h2>

      <div class="outline-text-2" id="text-orgb8af3f3">
        <p>A very important part of git is the ability to undo
        commits that introduce errors or fall down
        rabbit-holes.</p>
      </div>

      <div id="outline-container-org263074c" class="outline-3">
        <h3 id="org263074c">Temporary - <code>git stash</code></h3>

        <div class="outline-text-3" id="text-org263074c">
          <p><code>git stash</code> is a very useful command which
          takes any <i>uncommitted</i> changes you&rsquo;ve made to
          the working directory and stores them safely. You can
          later <code>git stash pop</code> to return the changes
          themselves to the working directory. Note that if you
          move some changes to your <code>stash</code> and then
          make conflicting changes, then you will have to resolve
          the conflicts. You can perform any number of other
          actions between <code>git stash</code> and <code>git
          stash pop</code>.</p>
        </div>
      </div>

      <div id="outline-container-org488b13c" class="outline-3">
        <h3 id="org488b13c">Exploratory - <code>git
        checkout</code></h3>

        <div class="outline-text-3" id="text-org488b13c">
          <p>A <code>git checkout</code> takes a commit reference
          and sets your <i>working directory</i> state to that
          commit<sup><a id="fnr.5" class="footref" href="#fn.5"
          name="fnr.5">5</a></sup>. <code>git checkout -b</code>
          can be used to switch to a different branch.</p>
        </div>
      </div>

      <div id="outline-container-org98b6edf" class="outline-3">
        <h3 id="org98b6edf">UNDO! UNDO!! - <code>git
        revert</code></h3>

        <div class="outline-text-3" id="text-org98b6edf">
          <p>Since each commit in git is a &rsquo;change&rsquo;,
          the natural way to undo things is to make the opposite
          change. <code>git revert</code> will construct the
          inverse of a specific revision and commit it. This is
          great for two reasons. First, you haven&rsquo;t altered
          the <i>commit history</i> - just added to it. Second, you
          can target a specific commit from several days ago
          without undoing all the work you&rsquo;ve done since!</p>
        </div>
      </div>
    </div>

    <div id="outline-container-org6dafa31" class="outline-2">
      <h2 id="org6dafa31">Hints and FAQs</h2>

      <div class="outline-text-2" id="text-org6dafa31"></div>

      <div id="outline-container-org35a7f47" class="outline-3">
        <h3 id="org35a7f47">Some strategies to avoid panic.</h3>

        <div class="outline-text-3" id="text-org35a7f47"></div>

        <div id="outline-container-org8e46dbd" class="outline-4">
          <h4 id="org8e46dbd">Commit messages</h4>

          <div class="outline-text-4" id="text-org8e46dbd">
            <div class="org-center">
              <p><img class='invertible' src=
              'https://imgs.xkcd.com/comics/git_commit.png' title=
              "Merge branch 'asdfasjkfdlas/alkdjf' into sdkjfls-final"
              alt='Git Commit' /></p>
            </div>

            <p>Take the extra few minutes to write a complete
            commit message. Your teammates and future self will
            thank you.</p>
          </div>
        </div>

        <div id="outline-container-org722f5d2" class="outline-4">
          <h4 id="org722f5d2">Work on your own branch</h4>

          <div class="outline-text-4" id="text-org722f5d2">
            <p>Merging your code with someone else&rsquo;s code is
            one of the more stressful processes when it comes to
            working in a team. While it is important to make sure
            your changes remain compatible with your
            teammates&rsquo; changes, you might want to avoid
            integrating partially completed features. By working on
            separate branches, you avoid issues surrounding merging
            code until actually necessary. Many teams will perform
            integration tests on a regular basis to ensure that
            teammates don&rsquo;t diverge too far. You will still
            have to perform the merges, but at least you can avoid
            unexpected merge conflicts and bugs that manifest from
            unexpected combinations of code.</p>
          </div>
        </div>

        <div id="outline-container-org5556d85" class="outline-4">
          <h4 id="org5556d85">Test before you merge</h4>

          <div class="outline-text-4" id="text-org5556d85">
            <p>Having a number of commits between working versions
            of code is not usually a problem, however, it is a good
            idea to test your code thoroughly before pushing or
            merging on a shared branch.</p>
          </div>
        </div>

        <div id="outline-container-org7a33114" class="outline-4">
          <h4 id="org7a33114">Avoiding Conflicts</h4>

          <div class="outline-text-4" id="text-org7a33114">
            <p>The best way to deal with conflicts is to have as
            few of them as possible. Working on separate branches
            reduces the frequency with which you&rsquo;ll have to
            deal with conflicts, but that might open the door to
            much larger conflicts cropping up down the line.
            Conflicts will usually only occur when two people are
            editing the same segment of code. If this is happening,
            it probably means that two people are working on very
            closely related features! The best way to avoid
            conflicts in this case is to communicate with your team
            before hand and let everyone know what you&rsquo;re
            working on and collaborate proactively instead of
            reactively.</p>
          </div>
        </div>
      </div>

      <div id="outline-container-org0d23867" class="outline-3">
        <h3 id="org0d23867">Help, I accidentally added or committed
        something I shouldn&rsquo;t have!</h3>

        <div class="outline-text-3" id="text-org0d23867">
          <p><code>git rm</code> will untrack a file that you have
          committed to the repository by accident. If you
          don&rsquo;t want to delete the file altogether, you can
          use the <code>--cached</code> option</p>
        </div>
      </div>

      <div id="outline-container-orge4e2030" class="outline-3">
        <h3 id="orge4e2030">Help, I&rsquo;ve made some changes but
        I want to move them out of the way!</h3>

        <div class="outline-text-3" id="text-orge4e2030">
          <p><code>git stash</code>!</p>
        </div>
      </div>

      <div id="outline-container-org9c08081" class="outline-3">
        <h3 id="org9c08081">Next Time</h3>

        <div class="outline-text-3" id="text-org9c08081">
          <p>In the next article, we will discuss some of the
          additional features GitHub brings to git. Pull requests,
          issues, project boards, and continuous integration are
          great tools that allow teams to collaborate more
          efficiently and painlessly.</p>
        </div>
      </div>
    </div>

    <div id="footnotes">
      <h2 class="footnotes">Footnotes:</h2>

      <div id="text-footnotes">
        <div class="footdef">
          <sup><a id="fn.1" class="footnum" href="#fnr.1" name=
          "fn.1">1</a></sup>

          <div class="footpara">
            <p class="footpara">You can manually set a remote
            target using <code>git remote add [name]
            [url]</code></p>
          </div>
        </div>

        <div class="footdef">
          <sup><a id="fn.2" class="footnum" href="#fnr.2" name=
          "fn.2">2</a></sup>

          <div class="footpara">
            <p class="footpara">You can even specify <i>hunks</i>
            or specific lines of files you want to add.</p>
          </div>
        </div>

        <div class="footdef">
          <sup><a id="fn.3" class="footnum" href="#fnr.3" name=
          "fn.3">3</a></sup>

          <div class="footpara">
            <p class="footpara">Sometimes it might feel like
            committing too often will make the history look messy.
            There are advanced commands such as <code>git rebase
            -i</code> which allow you to rewrite the history. This
            is a dangerous operation and can break things for other
            people. There are very few ways to completely destroy a
            git repo and misuse of history rewriting is basically
            it.</p>
          </div>
        </div>

        <div class="footdef">
          <sup><a id="fn.4" class="footnum" href="#fnr.4" name=
          "fn.4">4</a></sup>

          <div class="footpara">
            <p class="footpara">The default branch on many repos
            you see will be called <code>master</code>. In a more
            recent attempt to avoid slave/master metaphors in
            computer science, Github and many others have
            encouraged people to use the name <code>main</code>
            instead.</p>
          </div>
        </div>

        <div class="footdef">
          <sup><a id="fn.5" class="footnum" href="#fnr.5" name=
          "fn.5">5</a></sup>

          <div class="footpara">
            <p class="footpara">If you checkout a specific commit
            instead of a branch, you might get a scary looking
            message informing you that you are in a <code>detached
            HEAD state</code>. <a href=
            "https://www.cloudbees.com/blog/git-detached-head">This</a>
            is a good guide explaining how to handle this.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="postamble" class="status">
    <p class="author">Author: Rik Bose</p>

    <p class="date">Created: 2021-01-01 Fri 16:37</p>
  </div>
</body>
</html>
